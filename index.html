<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      color-scheme: dark;
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      --bg: #0b0b0c;
      --panel: rgba(21, 21, 23, 0.88);
      --panel-border: rgba(255, 255, 255, 0.08);
      --input-bg: #1a1b1f;
      --input-border: #2c2f38;
      --input-border-hover: #3b4150;
      --accent: #f7a300;
      --accent-strong: #ffb12a;
      --text: #f2f2f2;
      --muted: #9ea3ad;
      --success: #6ff0a1;
      --error: #ff6b6b;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #1b1b1f 0%, #0a0a0c 45%, #050506 100%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 48px 16px 72px;
    }

    .page {
      width: min(760px, 100%);
      display: flex;
      flex-direction: column;
      gap: 28px;
    }

    header {
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: clamp(28px, 4vw, 38px);
      letter-spacing: 0.02em;
    }

    .panel {
      background: var(--panel);
      border: 1px solid var(--panel-border);
      border-radius: 24px;
      padding: 28px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(16px);
    }

    .panel-title {
      text-align: center;
      font-size: 22px;
      font-weight: 600;
      margin: 0 0 20px;
    }

    .pay-buttons {
      display: grid;
      gap: 14px;
    }

    .pay-button {
      border: none;
      background: #ffffff;
      color: #111;
      padding: 16px 20px;
      font-size: 18px;
      font-weight: 600;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .pay-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35);
    }

    .pay-button:active {
      transform: translateY(0);
    }

    .credit-grid {
      display: grid;
      gap: 18px;
    }

    .card-logos {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 6px;
    }

    .card-logo {
      background: #fff;
      color: #111;
      border-radius: 10px;
      padding: 6px 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 700;
      font-size: 12px;
    }

    label {
      display: block;
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
      font-weight: 500;
    }

    .input-field {
      width: 100%;
      border-radius: 14px;
      border: 1px solid var(--input-border);
      background: var(--input-bg);
      padding: 14px 16px;
      color: var(--text);
      font-size: 16px;
      transition: border 0.2s ease, box-shadow 0.2s ease;
      outline: none;
    }

    .input-field:hover {
      border-color: var(--input-border-hover);
    }

    .input-field:focus {
      border-color: var(--accent-strong);
      box-shadow: 0 0 0 3px rgba(255, 177, 42, 0.2);
    }

    .input-field.is-invalid {
      border-color: var(--error);
      box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.15);
    }

    .input-field.is-valid {
      border-color: var(--success);
    }

    .input-row {
      display: grid;
      gap: 16px;
    }

    @media (min-width: 560px) {
      .input-row.two {
        grid-template-columns: 1fr 1fr;
      }
    }

    .hint {
      font-size: 12px;
      color: var(--muted);
      margin-top: 6px;
    }

    .error {
      font-size: 12px;
      color: var(--error);
      margin-top: 6px;
      min-height: 16px;
    }

    .stripe {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      font-size: 13px;
      color: var(--muted);
      margin-top: 4px;
    }

    .stripe span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .stripe strong {
      font-size: 16px;
      color: #7f78ff;
    }

    .submit {
      background: linear-gradient(135deg, #f5a200, #ffb128);
      border: none;
      padding: 16px 20px;
      border-radius: 16px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      color: #17100a;
      box-shadow: 0 10px 24px rgba(255, 172, 32, 0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      width: 100%;
    }

    .submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 30px rgba(255, 172, 32, 0.4);
    }

    .submit:disabled {
      cursor: not-allowed;
      opacity: 0.6;
      box-shadow: none;
      transform: none;
    }

    .guarantee {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      color: var(--muted);
      font-size: 14px;
      justify-content: center;
      margin-top: 12px;
    }

    .save {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      color: var(--muted);
    }

    .save input {
      width: 18px;
      height: 18px;
      accent-color: var(--accent);
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
      padding: 16px;
    }

    .modal.active {
      opacity: 1;
      pointer-events: auto;
    }

    .modal-card {
      background: #16171b;
      border-radius: 20px;
      padding: 26px;
      max-width: 420px;
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.08);
      text-align: center;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.45);
    }

    .modal-card h3 {
      margin-top: 0;
      font-size: 22px;
    }

    .modal-card p {
      color: var(--muted);
      margin: 10px 0 20px;
    }

    .close {
      border: none;
      background: #23252c;
      color: var(--text);
      padding: 10px 16px;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .close:hover {
      background: #2c2f38;
    }
  </style>
</head>
<body>
  <main class="page">
    <header>
      <h1>Checkout</h1>
    </header>

    <section class="panel">
      <h2 class="panel-title">Fast Payments</h2>
      <div class="pay-buttons">
        <button class="pay-button" type="button">
          <svg id="svg-logo" x="0" y="3.85" height="33" width="55" class="logo" viewBox="0 0 105 43" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Apple Logo</title>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="#000">
            <path d="M19.4028,5.5674 C20.6008,4.0684 21.4138,2.0564 21.1998,0.0004 C19.4458,0.0874 17.3058,1.1574 16.0668,2.6564 C14.9538,3.9414 13.9688,6.0374 14.2258,8.0074 C16.1948,8.1784 18.1618,7.0244 19.4028,5.5674"></path>
            <path d="M21.1772,8.3926 C18.3182,8.2226 15.8872,10.0156 14.5212,10.0156 C13.1552,10.0156 11.0642,8.4786 8.8022,8.5196 C5.8592,8.5626 3.1282,10.2276 1.6342,12.8746 C-1.4378,18.1696 0.8232,26.0246 3.8112,30.3376 C5.2622,32.4716 7.0102,34.8206 9.3142,34.7366 C11.4912,34.6506 12.3442,33.3266 14.9902,33.3266 C17.6352,33.3266 18.4042,34.7366 20.7082,34.6936 C23.0972,34.6506 24.5922,32.5586 26.0422,30.4226 C27.7072,27.9906 28.3882,25.6426 28.4312,25.5126 C28.3882,25.4706 23.8232,23.7186 23.7812,18.4676 C23.7382,14.0706 27.3652,11.9786 27.5362,11.8496 C25.4882,8.8196 22.2872,8.4786 21.1772,8.3926"></path>
            <path d="M85.5508,43.0381 L85.5508,39.1991 C85.8628,39.2421 86.6158,39.2871 87.0158,39.2871 C89.2138,39.2871 90.4558,38.3551 91.2108,35.9581 L91.6548,34.5371 L83.2428,11.2321 L88.4368,11.2321 L94.2958,30.1421 L94.4068,30.1421 L100.2668,11.2321 L105.3278,11.2321 L96.6048,35.7141 C94.6078,41.3291 92.3208,43.1721 87.4828,43.1721 C87.1048,43.1721 85.8838,43.1271 85.5508,43.0381"></path>
            <path d="M42.6499,19.3555 L48.3549,19.3555 C52.6829,19.3555 55.1469,17.0255 55.1469,12.9855 C55.1469,8.9455 52.6829,6.6375 48.3769,6.6375 L42.6499,6.6375 L42.6499,19.3555 Z M49.6869,2.4425 C55.9009,2.4425 60.2289,6.7265 60.2289,12.9625 C60.2289,19.2225 55.8129,23.5285 49.5309,23.5285 L42.6499,23.5285 L42.6499,34.4705 L37.6779,34.4705 L37.6779,2.4425 L49.6869,2.4425 Z"></path>
            <path d="M76.5547,25.7705 L76.5547,23.9715 L71.0287,24.3275 C67.9207,24.5275 66.3007,25.6815 66.3007,27.7015 C66.3007,29.6545 67.9887,30.9195 70.6287,30.9195 C74.0027,30.9195 76.5547,28.7665 76.5547,25.7705 M61.4617,27.8345 C61.4617,23.7285 64.5917,21.3755 70.3627,21.0205 L76.5547,20.6425 L76.5547,18.8675 C76.5547,16.2705 74.8457,14.8495 71.8057,14.8495 C69.2967,14.8495 67.4777,16.1375 67.0997,18.1125 L62.6167,18.1125 C62.7497,13.9615 66.6567,10.9435 71.9387,10.9435 C77.6207,10.9435 81.3267,13.9175 81.3267,18.5345 L81.3267,34.4705 L76.7327,34.4705 L76.7327,30.6305 L76.6217,30.6305 C75.3127,33.1395 72.4267,34.7145 69.2967,34.7145 C64.6807,34.7145 61.4617,31.9625 61.4617,27.8345"></path>
        </g>
    </g>
</svg>
        </button>
        <button class="pay-button" type="button">
          <svg xmlns="http://www.w3.org/2000/svg" width="41" height="17"><g fill="none" fill-rule="evenodd"><path d="M19.526 2.635v4.083h2.518c.6 0 1.096-.202 1.488-.605.403-.402.605-.882.605-1.437 0-.544-.202-1.018-.605-1.422-.392-.413-.888-.62-1.488-.62h-2.518zm0 5.52v4.736h-1.504V1.198h3.99c1.013 0 1.873.337 2.582 1.012.72.675 1.08 1.497 1.08 2.466 0 .991-.36 1.819-1.08 2.482-.697.665-1.559.996-2.583.996h-2.485v.001zm7.668 2.287c0 .392.166.718.499.98.332.26.722.391 1.168.391.633 0 1.196-.234 1.692-.701.497-.469.744-1.019.744-1.65-.469-.37-1.123-.555-1.962-.555-.61 0-1.12.148-1.528.442-.409.294-.613.657-.613 1.093m1.946-5.815c1.112 0 1.989.297 2.633.89.642.594.964 1.408.964 2.442v4.932h-1.439v-1.11h-.065c-.622.914-1.45 1.372-2.486 1.372-.882 0-1.621-.262-2.215-.784-.594-.523-.891-1.176-.891-1.96 0-.828.313-1.486.94-1.976s1.463-.735 2.51-.735c.892 0 1.629.163 2.206.49v-.344c0-.522-.207-.966-.621-1.33a2.132 2.132 0 0 0-1.455-.547c-.84 0-1.504.353-1.995 1.062l-1.324-.834c.73-1.045 1.81-1.568 3.238-1.568m11.853.262l-5.02 11.53H34.42l1.864-4.034-3.302-7.496h1.635l2.387 5.749h.032l2.322-5.75z" fill="#5F6368"/><path d="M13.448 7.134c0-.473-.04-.93-.116-1.366H6.988v2.588h3.634a3.11 3.11 0 0 1-1.344 2.042v1.68h2.169c1.27-1.17 2.001-2.9 2.001-4.944" fill="#4285F4"/><path d="M6.988 13.7c1.816 0 3.344-.595 4.459-1.621l-2.169-1.681c-.603.406-1.38.643-2.29.643-1.754 0-3.244-1.182-3.776-2.774H.978v1.731a6.728 6.728 0 0 0 6.01 3.703" fill="#34A853"/><path d="M3.212 8.267a4.034 4.034 0 0 1 0-2.572V3.964H.978A6.678 6.678 0 0 0 .261 6.98c0 1.085.26 2.11.717 3.017l2.234-1.731z" fill="#FABB05"/><path d="M6.988 2.921c.992 0 1.88.34 2.58 1.008v.001l1.92-1.918C10.324.928 8.804.262 6.989.262a6.728 6.728 0 0 0-6.01 3.702l2.234 1.731c.532-1.592 2.022-2.774 3.776-2.774" fill="#E94235"/><path d="M0 0h41.285v18H0z"/></g></svg>
        </button>
      </div>
    </section>

    <section class="panel">
      <h2 class="panel-title">Credit card</h2>
      <div class="card-logos">
        <span class="card-logo">Mastercard</span>
        <span class="card-logo">VISA</span>
        <span class="card-logo">Maestro</span>
        <span class="card-logo" style="background:#1b9bd7;color:#fff;">AMEX</span>
        <span class="card-logo">DISCOVER</span>
      </div>

      <form id="checkout-form" class="credit-grid" novalidate>
        <div>
          <label for="cardNumber">Card number</label>
          <input id="cardNumber" class="input-field" type="text" inputmode="numeric" autocomplete="cc-number" placeholder="XXXX XXXX XXXX XXXX" value="4242 4242 4242 4242" maxlength="19" />
          <div class="stripe">
            <span>
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" fill="none">
                <path d="M7 11V7a5 5 0 0110 0v4" stroke="#9ea3ad" stroke-width="1.5" stroke-linecap="round" />
                <rect x="5" y="11" width="14" height="10" rx="3" stroke="#9ea3ad" stroke-width="1.5" />
              </svg>
              Secured by
            </span>
            <strong>stripe</strong>
          </div>
          <div class="error" id="cardError"></div>
        </div>

        <div class="input-row two">
          <div>
            <label for="expiry">Expiration date</label>
            <input id="expiry" class="input-field" type="text" inputmode="numeric" autocomplete="cc-exp" placeholder="MM/YY" value="09/27" maxlength="5" />
            <div class="error" id="expiryError"></div>
          </div>
          <div>
            <label for="cvc">Security code</label>
            <input id="cvc" class="input-field" type="text" inputmode="numeric" autocomplete="cc-csc" placeholder="CVC" value="123" maxlength="4" />
            <div class="error" id="cvcError"></div>
          </div>
        </div>

        <div>
          <label for="email">Email (Your login)</label>
          <input id="email" class="input-field" type="email" autocomplete="email" placeholder="useremail@mail.com" value="useremail@mail.com" />
          <div class="hint">We will send the receipt to your email.</div>
          <div class="error" id="emailError"></div>
        </div>

        <button class="submit" type="submit">Complete Payment</button>
        <div class="guarantee">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" fill="none">
            <path d="M12 3l7 3v6c0 4.4-3 8.3-7 9-4-0.7-7-4.6-7-9V6l7-3z" stroke="#f7a300" stroke-width="1.5" />
            <path d="M9 12l2 2 4-4" stroke="#f7a300" stroke-width="1.5" stroke-linecap="round" />
          </svg>
          Money-Back Guarantee
        </div>
        <label class="save">
          <input type="checkbox" checked />
          Save this payment method
        </label>
      </form>
    </section>
  </main>

  <div class="modal" id="successModal" aria-hidden="true">
    <div class="modal-card">
      <h3>Payment confirmed ✅</h3>
      <p>Данные получены. Оплата прошла успешно, чек отправлен на вашу почту.</p>
      <button class="close" type="button" id="closeModal">Закрыть</button>
    </div>
  </div>

  <script>
    const form = document.getElementById("checkout-form");
    const cardNumber = document.getElementById("cardNumber");
    const expiry = document.getElementById("expiry");
    const cvc = document.getElementById("cvc");
    const email = document.getElementById("email");
    const modal = document.getElementById("successModal");
    const closeModal = document.getElementById("closeModal");

    const cardError = document.getElementById("cardError");
    const expiryError = document.getElementById("expiryError");
    const cvcError = document.getElementById("cvcError");
    const emailError = document.getElementById("emailError");

    const sanitizeNumber = (value) => value.replace(/\D/g, "");

    const formatCardNumber = (value) =>
      sanitizeNumber(value)
        .slice(0, 16)
        .replace(/(\d{4})(?=\d)/g, "$1 ");

    const formatExpiry = (value) => {
      const numbers = sanitizeNumber(value).slice(0, 4);
      if (numbers.length <= 2) {
        return numbers;
      }
      return `${numbers.slice(0, 2)}/${numbers.slice(2)}`;
    };

    const validateCard = () => {
      const raw = sanitizeNumber(cardNumber.value);
      if (raw.length !== 16) {
        cardError.textContent = "Введите 16 цифр номера карты.";
        cardNumber.classList.add("is-invalid");
        cardNumber.classList.remove("is-valid");
        return false;
      }
      cardError.textContent = "";
      cardNumber.classList.remove("is-invalid");
      cardNumber.classList.add("is-valid");
      return true;
    };

    const validateExpiry = () => {
      const value = expiry.value;
      const match = value.match(/^(\d{2})\/(\d{2})$/);
      if (!match) {
        expiryError.textContent = "Формат должен быть MM/YY.";
        expiry.classList.add("is-invalid");
        expiry.classList.remove("is-valid");
        return false;
      }
      const month = Number(match[1]);
      if (month < 1 || month > 12) {
        expiryError.textContent = "Месяц должен быть от 01 до 12.";
        expiry.classList.add("is-invalid");
        expiry.classList.remove("is-valid");
        return false;
      }
      expiryError.textContent = "";
      expiry.classList.remove("is-invalid");
      expiry.classList.add("is-valid");
      return true;
    };

    const validateCvc = () => {
      const raw = sanitizeNumber(cvc.value);
      if (raw.length < 3 || raw.length > 4) {
        cvcError.textContent = "CVC должен быть 3-4 цифры.";
        cvc.classList.add("is-invalid");
        cvc.classList.remove("is-valid");
        return false;
      }
      cvcError.textContent = "";
      cvc.classList.remove("is-invalid");
      cvc.classList.add("is-valid");
      return true;
    };

    const validateEmail = () => {
      const value = email.value.trim();
      const isValid = /\S+@\S+\.\S+/.test(value);
      if (!isValid) {
        emailError.textContent = "Введите корректный email.";
        email.classList.add("is-invalid");
        email.classList.remove("is-valid");
        return false;
      }
      emailError.textContent = "";
      email.classList.remove("is-invalid");
      email.classList.add("is-valid");
      return true;
    };

    cardNumber.addEventListener("input", () => {
      cardNumber.value = formatCardNumber(cardNumber.value);
      validateCard();
    });

    expiry.addEventListener("input", () => {
      expiry.value = formatExpiry(expiry.value);
      validateExpiry();
    });

    cvc.addEventListener("input", () => {
      cvc.value = sanitizeNumber(cvc.value).slice(0, 4);
      validateCvc();
    });

    email.addEventListener("input", () => {
      validateEmail();
    });

    form.addEventListener("submit", (event) => {
      event.preventDefault();
      const isValid = [validateCard(), validateExpiry(), validateCvc(), validateEmail()].every(Boolean);
      if (isValid) {
        modal.classList.add("active");
        modal.setAttribute("aria-hidden", "false");
      }
    });

    closeModal.addEventListener("click", () => {
      modal.classList.remove("active");
      modal.setAttribute("aria-hidden", "true");
    });

    modal.addEventListener("click", (event) => {
      if (event.target === modal) {
        modal.classList.remove("active");
        modal.setAttribute("aria-hidden", "true");
      }
    });

    [validateCard, validateExpiry, validateCvc, validateEmail].forEach((fn) => fn());
  </script>
</body>
</html>
